(window["webpackJsonpmy-app-1"]=window["webpackJsonpmy-app-1"]||[]).push([[5],{299:function(e,t,a){e.exports=a.p+"static/media/userPhoto.5974e044.jpeg"},303:function(e,t,a){e.exports={usersPage:"Users_usersPage__mQVSZ",preloader:"Users_preloader__3rtwY",navigationBlock:"Users_navigationBlock__24V29",showHideLink:"Users_showHideLink__Ixadd",lastPage:"Users_lastPage__3E52s"}},304:function(e,t,a){e.exports={paginator:"Pagginator_paginator__7r3Za",button:"Pagginator_button__1wMIG",inpError:"Pagginator_inpError__1f-Bn"}},305:function(e,t,a){e.exports={user:"User_user__2685s",avatar:"User_avatar__3VMDy",photo:"User_photo__oFDBZ",description:"User_description__YcnNY",descriptionStatus:"User_descriptionStatus__-VyNo",info:"User_info__1uRtW",location:"User_location__NaYgD"}},318:function(e,t,a){"use strict";a.r(t);var n=a(7),s=a.n(n),r=a(19),o=a(40),i=a(41),c=a(44),u=a(42),l=a(45),p=a(0),g=a.n(p),m=a(21),d=a(99),h=a(55),f=a(303),E=a.n(f),P=a(304),_=a.n(P),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={inputError:!1,displayNumber:null,inputMode:!1},a.setInputMode=function(e){a.setState({inputMode:!0}),a.checkDisplayValue(e)},a.disableInputMode=function(){a.setState({inputMode:!1})},a.checkDisplayValue=function(e){var t=a.props,n=t.startPage,s=t.finishPage,r=e.currentTarget.value;r>=n&&r<=s?a.setState({inputError:!1,displayNumber:r}):(a.setState({displayNumber:r}),a.setState({inputError:!0}))},a.setPageOnEvent=function(e){var t=a.props,n=t.startPage,s=t.finishPage,r=t.currentPage,o=t.dispatchNewPage,i=+e.currentTarget.value;i>=n&&i<=s&&i!==r?(a.setState({inputError:!1}),o(i)):i!==r&&a.setState({inputError:!0})},a.setPageOnKey=function(e){"Enter"===e.key&&(a.setPageOnEvent(e),a.setState({inputMode:!1}))},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({displayNumber:this.props.currentPage})}},{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.startPage,n=e.finishPage,s=e.dispatchNewPage;return g.a.createElement("section",{className:_.a.pagginatorWrapper},g.a.createElement("nav",{className:_.a.paginator},t!==a&&g.a.createElement("span",{className:_.a.button,onClick:function(){return s(a)}},"First"),this.state.inputMode?g.a.createElement("input",{type:"number",value:this.state.displayNumber,min:a,max:n,className:this.state.inputError?_.a.inpError:"",onClick:this.setPageOnEvent,onKeyPress:this.setPageOnKey,onChange:this.checkDisplayValue,onBlur:this.disableInputMode}):g.a.createElement("input",{type:"number",value:t,min:a,max:n,onInput:this.setInputMode,onClick:this.setPageOnEvent,onChange:function(){}}),t!==n&&g.a.createElement("span",{className:_.a.button,onClick:function(){return s(n)}},"Last")))}}]),t}(g.a.Component),b=a(97),k=a(14),y=a(305),N=a.n(y),w=function(e){var t=e.setFollow,n=e.user,s=n.id,r=n.photos,o=n.followed,i=n.name,c=n.status,u=n.followInProgress,l=null!==r.small?r.small:a(299);return g.a.createElement("section",{className:N.a.user},g.a.createElement("section",{className:N.a.avatar},g.a.createElement(k.c,{to:"/profile/"+s},g.a.createElement("img",{src:l,alt:"avatar",className:N.a.photo})),o?g.a.createElement("button",{onClick:function(){return t(s,!1)},disabled:u},"Unfollow"):g.a.createElement("button",{onClick:function(){return t(s,!0)},disabled:u},"Follow")),g.a.createElement("section",{className:N.a.description},g.a.createElement("div",{className:N.a.info},g.a.createElement("p",null,i),g.a.createElement("p",{className:N.a.descriptionStatus},c)),g.a.createElement("div",{className:N.a.location},g.a.createElement("p",null,"country",","),g.a.createElement("p",null,"city"))))},O=Object(m.b)(null,{setFollow:d.b})((function(e){return g.a.createElement(w,e)})),S=function(e){var t=Object(p.useState)(!1),a=Object(h.a)(t,2),n=a[0],s=a[1],r=e.users,o=e.isLoading,i=e.currentPage,c=e.pagesCount,u=r.map((function(e){return g.a.createElement(O,{user:e,key:e.id})}));return g.a.createElement("div",{className:E.a.usersPage},o&&g.a.createElement(b.a,{className:E.a.preloader}),n?g.a.createElement("div",{className:E.a.navigationBlock},g.a.createElement(v,{startPage:1,finishPage:c,currentPage:i,dispatchNewPage:function(t,a){t!==e.currentPage&&e.setUsers(t,a)}}),g.a.createElement("span",{className:E.a.showHideLink,onClick:function(){return s(!1)}},"Hide")):g.a.createElement("div",{className:E.a.navigationBlock},g.a.createElement("span",{className:E.a.showHideLink,onClick:function(){return s(!0)}},"Pagginator")),u,i===c&&g.a.createElement("div",{className:E.a.lastPage},"You have reached the last page..."))},U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={usersLoading:!1},a.endlessScroll=Object(r.a)(s.a.mark((function e(){var t,n,r,o,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.currentPage,r=t.pagesCount,o=t.setUsers,i=a.state.usersLoading,c=document.documentElement,!(c.scrollHeight-c.scrollTop-c.clientHeight<100&&n<r)||i){e.next=9;break}return a.setState({usersLoading:!0}),e.next=8,o(n+1,!0);case 8:a.setState({usersLoading:!1});case 9:case"end":return e.stop()}}),e)}))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.endlessScroll),0===this.props.users.length&&this.props.setUsers(this.props.currentPage)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.endlessScroll)}},{key:"render",value:function(){return g.a.createElement(S,this.props)}}]),t}(g.a.Component);t.default=Object(m.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,pagesCount:e.usersPage.pagesCount,isLoading:e.usersPage.isLoading}}),{setUsers:d.c})(U)}}]);
//# sourceMappingURL=5.d50365e9.chunk.js.map