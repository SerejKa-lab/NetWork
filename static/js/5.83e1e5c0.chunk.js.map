{"version":3,"sources":["Assets/Images/userPhoto.jpg","Components/Users/Users.module.css","Components/Users/Paginator/Paginator.module.css","Components/Users/User/User.module.css","Components/Users/Paginator/Paginator.js","Components/Users/User/User.js","Components/Users/User/UserContainer.js","Components/Users/Users.js","Components/Users/UsersContainer.js"],"names":["module","exports","Paginator","state","inputError","displayNumber","inputMode","setInputMode","e","setState","checkDisplayValue","disableInputMode","props","startPage","finishPage","nextPage","currentTarget","value","setPageOnEvent","currentPage","dispatchNewPage","setPageOnKey","key","this","className","styles","paginatorWrapper","paginator","button","onClick","type","min","max","inpError","onKeyPress","onChange","onBlur","onInput","React","Component","User","setFollow","user","id","photos","followed","name","status","followInProgress","photoUrl","small","require","avatar","to","src","alt","photo","disabled","description","info","descriptionStatus","location","connect","Users","useState","setPaginator","users","isLoading","pagesCount","usersList","map","usersPage","Preloader","preloader","showHideLink","page","inList","setUsers","paginator__link","lastPage","UsersContainer","usersLoading","endlessScroll","a","docEl","document","documentElement","scrollHeight","scrollTop","clientHeight","addEventListener","length","removeEventListener","pageSize"],"mappings":"mGAAAA,EAAOC,QAAU,IAA0B,uC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,UAAY,yBAAyB,UAAY,yBAAyB,gBAAkB,+BAA+B,aAAe,4BAA4B,SAAW,0B,oBCAxOD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,OAAS,0BAA0B,SAAW,8B,oBCAzGD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,qBAAqB,MAAQ,oBAAoB,YAAc,0BAA0B,kBAAoB,gCAAgC,KAAO,mBAAmB,SAAW,yB,wLCyFxNC,E,2MAnFXC,MAAQ,CACJC,YAAY,EACZC,cAAe,KACfC,WAAW,G,EAKfC,aAAe,SAACC,GACZ,EAAKC,SAAS,CAAEH,WAAW,IAC3B,EAAKI,kBAAkBF,I,EAG3BG,iBAAmB,WACf,EAAKF,SAAS,CAAEH,WAAW,K,EAG/BI,kBAAoB,SAACF,GAAO,IAAD,EACW,EAAKI,MAA/BC,EADe,EACfA,UAAWC,EADI,EACJA,WACbC,EAAWP,EAAEQ,cAAcC,MAC7BF,GAAYF,GAAaE,GAAYD,EACrC,EAAKL,SAAS,CAAEL,YAAY,EAAOC,cAAeU,KAElD,EAAKN,SAAS,CAAEJ,cAAeU,IAC/B,EAAKN,SAAS,CAAEL,YAAY,M,EAIpCc,eAAiB,SAACV,GAAO,IAAD,EAC4C,EAAKI,MAA7DC,EADY,EACZA,UAAWC,EADC,EACDA,WAAYK,EADX,EACWA,YAAaC,EADxB,EACwBA,gBACtCL,GAAYP,EAAEQ,cAAcC,MAC9BF,GAAYF,GAAaE,GAAYD,GAAcC,IAAaI,GAChE,EAAKV,SAAS,CAAEL,YAAY,IAC5BgB,EAAgBL,IAEZA,IAAaI,GAAa,EAAKV,SAAS,CAAEL,YAAY,K,EAIlEiB,aAAe,SAACb,GACE,UAAVA,EAAEc,MACF,EAAKJ,eAAeV,GACpB,EAAKC,SAAS,CAAEH,WAAW,M,mFApCbiB,KAAKd,SAAS,CAAEJ,cAAekB,KAAKX,MAAMO,gB,+BAyCtD,IAAD,EAE2DI,KAAKX,MAA7DO,EAFH,EAEGA,YAAaN,EAFhB,EAEgBA,UAAWC,EAF3B,EAE2BA,WAAYM,EAFvC,EAEuCA,gBAE5C,OACI,6BAASI,UAAWC,IAAOC,kBACvB,yBAAKF,UAAWC,IAAOE,WAClBR,IAAgBN,GACV,0BAAMW,UAAWC,IAAOG,OACvBC,QAAS,kBAAMT,EAAgBP,KADhC,SAINU,KAAKpB,MAAMG,UACN,2BAAOwB,KAAK,SAASb,MAAOM,KAAKpB,MAAME,cACrC0B,IAAKlB,EAAWmB,IAAKlB,EACrBU,UAAWD,KAAKpB,MAAMC,WAAaqB,IAAOQ,SAAW,GACrDJ,QAASN,KAAKL,eACdgB,WAAYX,KAAKF,aACjBc,SAAUZ,KAAKb,kBACf0B,OAAQb,KAAKZ,mBACf,2BAAOmB,KAAK,SAASb,MAAOE,EAC1BY,IAAKlB,EAAWmB,IAAKlB,EACrBuB,QAASd,KAAKhB,aACdsB,QAASN,KAAKL,eACdiB,SAAU,eAEjBhB,IAAgBL,GACV,0BAAMU,UAAWC,IAAOG,OACvBC,QAAS,kBAAMT,EAAgBN,KADhC,c,GA5EHwB,IAAMC,W,kCCgCfC,EAhCF,SAAC5B,GAAW,IACb6B,EAAc7B,EAAd6B,UADY,EAE6C7B,EAAM8B,KAA/DC,EAFY,EAEZA,GAAIC,EAFQ,EAERA,OAAQC,EAFA,EAEAA,SAAUC,EAFV,EAEUA,KAAMC,EAFhB,EAEgBA,OAAQC,EAFxB,EAEwBA,iBACtCC,EAA4B,OAAjBL,EAAOM,MAAiBN,EAAOM,MAAQC,EAAQ,KAKhE,OACI,6BAAS3B,UAAWC,IAAOiB,MACvB,6BAASlB,UAAWC,IAAO2B,QACvB,kBAAC,IAAD,CAASC,GAAI,YAAcV,GACvB,yBAAKW,IAAKL,EAAUM,IAAI,SAAS/B,UAAWC,IAAO+B,SAEtDX,EACK,4BAAQhB,QATC,kBAAMY,EAAUE,GAAI,IASQc,SAAUT,GAA/C,YACA,4BAAQnB,QAXD,kBAAMY,EAAUE,GAAI,IAWQc,SAAUT,GAA7C,WAEV,6BAASxB,UAAWC,IAAOiC,aACvB,yBAAKlC,UAAWC,IAAOkC,MACnB,2BAAIb,GACJ,uBAAGtB,UAAWC,IAAOmC,mBAAoBb,IAE7C,yBAAKvB,UAAWC,IAAOoC,UACnB,2BAAI,UAAJ,KACA,2BAAI,YCnBTC,cAAQ,KAAM,CAAErB,eAAhBqB,EANO,SAAClD,GACnB,OACI,kBAAC,EAAUA,MC2CJmD,EA3CD,SAACnD,GAAW,IAAD,EAEaoD,oBAAS,GAFtB,mBAEdrC,EAFc,KAEHsC,EAFG,KAcbC,EAA8CtD,EAA9CsD,MAAOC,EAAuCvD,EAAvCuD,UAAWhD,EAA4BP,EAA5BO,YAAaiD,EAAexD,EAAfwD,WAEjCC,EAAYH,EAAMI,KAAI,SAAC5B,GAAD,OACxB,kBAAC,EAAD,CAAeA,KAAMA,EAAMpB,IAAKoB,EAAKC,QAEzC,OACI,yBAAKnB,UAAWC,IAAO8C,WAClBJ,GAAa,kBAACK,EAAA,EAAD,CAAWhD,UAAWC,IAAOgD,YAC1C9C,EACK,yBAAKH,UAAWC,IAAOE,WACrB,0BAAMH,UAAWC,IAAOiD,aAAc7C,QAbhC,kBAAMoC,GAAa,MAczB,kBAAC,EAAD,CACIpD,UAAW,EAAGC,WAAYsD,EAC1BjD,YAAaA,EAAaC,gBAvBvB,SAACuD,EAAMC,GACtBD,IAAS/D,EAAMO,aACfP,EAAMiE,SAASF,EAAMC,OAwBf,yBAAKpD,UAAS,UAAKC,IAAOE,UAAZ,YAAyBF,IAAOqD,iBAAmBjD,QApBzD,kBAAMoC,GAAa,KAqBzB,0BAAMzC,UAAWC,IAAOiD,gBAI/BL,EACAlD,IAAgBiD,GACV,yBAAK5C,UAAWC,IAAOsD,UAAvB,uCCtCbC,E,2MAUF7E,MAAQ,CACJ8E,cAAc,G,EAGlBC,c,sBAAgB,sCAAAC,EAAA,2DAEkC,EAAKvE,MAA3CO,EAFI,EAEJA,YAAaiD,EAFT,EAESA,WAAYS,EAFrB,EAEqBA,SACzBI,EAAiB,EAAK9E,MAAtB8E,aACFG,EAAQC,SAASC,kBACFF,EAAMG,aAAeH,EAAMI,UAAYJ,EAAMK,aAC/C,KAAOtE,EAAciD,IAAea,EAN3C,uBAOR,EAAKxE,SAAS,CAAEwE,cAAe,IAPvB,SAQFJ,EAAS1D,EAAc,GAAG,GARxB,OASR,EAAKV,SAAS,CAAEwE,cAAc,IATtB,2C,mFAZZI,SAASK,iBAAiB,SAAUnE,KAAK2D,eACT,IAA5B3D,KAAKX,MAAMsD,MAAMyB,QAAcpE,KAAKX,MAAMiE,SAAStD,KAAKX,MAAMO,e,6CAIlEkE,SAASO,oBAAoB,SAAUrE,KAAK2D,iB,+BAqB5C,OACI,kBAAC,EAAU3D,KAAKX,W,GA7BC0B,IAAMC,WA+CpBuB,uBAXS,SAAC3D,GACrB,MAAO,CACH+D,MAAO/D,EAAMoE,UAAUL,MACvB2B,SAAU1F,EAAMoE,UAAUsB,SAC1B1E,YAAahB,EAAMoE,UAAUpD,YAC7BiD,WAAYjE,EAAMoE,UAAUH,WAC5BD,UAAWhE,EAAMoE,UAAUJ,aAKK,CAAEU,cAA3Bf,CAAwCkB","file":"static/js/5.83e1e5c0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/userPhoto.5974e044.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__mQVSZ\",\"preloader\":\"Users_preloader__3rtwY\",\"paginator\":\"Users_paginator__3rjOg\",\"paginator__link\":\"Users_paginator__link__2C74a\",\"showHideLink\":\"Users_showHideLink__Ixadd\",\"lastPage\":\"Users_lastPage__3E52s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2tyKK\",\"button\":\"Paginator_button__3JCI_\",\"inpError\":\"Paginator_inpError__2O9R4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2685s\",\"avatar\":\"User_avatar__3VMDy\",\"photo\":\"User_photo__oFDBZ\",\"description\":\"User_description__YcnNY\",\"descriptionStatus\":\"User_descriptionStatus__-VyNo\",\"info\":\"User_info__1uRtW\",\"location\":\"User_location__NaYgD\"};","import React from 'react';\r\nimport styles from './Paginator.module.css'\r\n\r\n\r\n\r\nclass Paginator extends React.Component {\r\n\r\n    state = {\r\n        inputError: false,\r\n        displayNumber: null,\r\n        inputMode: false\r\n    }\r\n\r\n    componentDidMount() { this.setState({ displayNumber: this.props.currentPage }) };\r\n\r\n    setInputMode = (e) => {\r\n        this.setState({ inputMode: true })\r\n        this.checkDisplayValue(e)\r\n    }\r\n\r\n    disableInputMode = () => {\r\n        this.setState({ inputMode: false })\r\n    }\r\n\r\n    checkDisplayValue = (e) => {\r\n        const { startPage, finishPage } = this.props;\r\n        const nextPage = e.currentTarget.value;\r\n        if (nextPage >= startPage && nextPage <= finishPage) {\r\n            this.setState({ inputError: false, displayNumber: nextPage }) //получать в дисплей значение извне\r\n        } else {\r\n            this.setState({ displayNumber: nextPage }) //получать значение извне\r\n            this.setState({ inputError: true })\r\n        }\r\n    }\r\n\r\n    setPageOnEvent = (e) => {\r\n        const { startPage, finishPage, currentPage, dispatchNewPage } = this.props;\r\n        const nextPage = +e.currentTarget.value;\r\n        if (nextPage >= startPage && nextPage <= finishPage && nextPage !== currentPage) {\r\n            this.setState({ inputError: false });\r\n            dispatchNewPage(nextPage)\r\n        } else {\r\n            if (nextPage !== currentPage) this.setState({ inputError: true })\r\n        }\r\n    }\r\n\r\n    setPageOnKey = (e) => {\r\n        if (e.key === 'Enter') {\r\n            this.setPageOnEvent(e);\r\n            this.setState({ inputMode: false })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { currentPage, startPage, finishPage, dispatchNewPage } = this.props\r\n\r\n        return (\r\n            <section className={styles.paginatorWrapper}>\r\n                <nav className={styles.paginator}>\r\n                    {currentPage !== startPage\r\n                        && <span className={styles.button}\r\n                            onClick={() => dispatchNewPage(startPage)}>First</span>\r\n                    }\r\n\r\n                    {this.state.inputMode\r\n                        ? <input type='number' value={this.state.displayNumber}\r\n                            min={startPage} max={finishPage}\r\n                            className={this.state.inputError ? styles.inpError : ''}\r\n                            onClick={this.setPageOnEvent}\r\n                            onKeyPress={this.setPageOnKey}\r\n                            onChange={this.checkDisplayValue}\r\n                            onBlur={this.disableInputMode} />\r\n                        : <input type='number' value={currentPage}\r\n                            min={startPage} max={finishPage}\r\n                            onInput={this.setInputMode}\r\n                            onClick={this.setPageOnEvent} \r\n                            onChange={()=>{}}/>\r\n                    }\r\n                    {currentPage !== finishPage\r\n                        && <span className={styles.button}\r\n                            onClick={() => dispatchNewPage(finishPage)}>Last</span>\r\n                    }\r\n                </nav>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './User.module.css';\r\n\r\n\r\nconst User = (props) => {\r\n    const { setFollow } = props;\r\n    const { id, photos, followed, name, status, followInProgress } = props.user;\r\n    const photoUrl = photos.small !== null ? photos.small : require('../../../Assets/Images/userPhoto.jpg');\r\n\r\n    const setFollowOnClick = () => setFollow(id, true)\r\n    const setUnfollowOnClick = () => setFollow(id, false) \r\n\r\n    return (\r\n        <section className={styles.user} >\r\n            <section className={styles.avatar}>\r\n                <NavLink to={'/profile/' + id}>\r\n                    <img src={photoUrl} alt='avatar' className={styles.photo} />\r\n                </NavLink>\r\n                {followed\r\n                    ? <button onClick={setUnfollowOnClick} disabled={followInProgress} >Unfollow</button>\r\n                    : <button onClick={setFollowOnClick} disabled={followInProgress} >Follow</button>}\r\n            </section>\r\n            <section className={styles.description}>\r\n                <div className={styles.info}>\r\n                    <p>{name}</p>\r\n                    <p className={styles.descriptionStatus}>{status}</p>\r\n                </div>\r\n                <div className={styles.location}>\r\n                    <p>{'country'},</p>\r\n                    <p>{'city'}</p>\r\n                </div>\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport User from './User';\r\nimport { setFollow } from '../../../Redux/usersReducer'\r\n\r\nconst UserContainer = (props) => {\r\n    return (\r\n        <User { ...props } />\r\n    )\r\n}\r\n\r\nexport default connect(null, { setFollow } )(UserContainer);","import React, { useState } from 'react';\r\nimport styles from './Users.module.css';\r\nimport Paginator from './Paginator/Paginator';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport UserContainer from './User/UserContainer';\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    const [paginator, setPaginator] = useState(false)\r\n\r\n    const setPageOnEvent = (page, inList) => {\r\n        if (page !== props.currentPage) {\r\n            props.setUsers(page, inList);\r\n        }\r\n    }\r\n\r\n    const showPaginator = () => setPaginator(true)\r\n    const hidePaginator = () => setPaginator(false)\r\n\r\n\r\n    const { users, isLoading, currentPage, pagesCount } = props;\r\n    \r\n    const usersList = users.map((user) =>\r\n        <UserContainer user={user} key={user.id} />);\r\n\r\n    return (\r\n        <div className={styles.usersPage}>\r\n            {isLoading && <Preloader className={styles.preloader} />}\r\n            {paginator\r\n                ? <div className={styles.paginator}>\r\n                    <span className={styles.showHideLink} onClick={hidePaginator}></span>\r\n                    <Paginator\r\n                        startPage={1} finishPage={pagesCount}\r\n                        currentPage={currentPage} dispatchNewPage={setPageOnEvent} />\r\n\r\n                </div>\r\n                : <div className={`${styles.paginator} ${styles.paginator__link}`} onClick={showPaginator}>\r\n                    <span className={styles.showHideLink}></span>\r\n                </div>\r\n            }\r\n\r\n            {usersList}\r\n            {currentPage === pagesCount\r\n                && <div className={styles.lastPage}>You have reached the last page...</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Users;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setUsers } from '../../Redux/usersReducer';\r\nimport Users from './Users';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        document.addEventListener('scroll', this.endlessScroll)\r\n        if (this.props.users.length === 0) this.props.setUsers(this.props.currentPage)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('scroll', this.endlessScroll)\r\n    }\r\n\r\n    state = {\r\n        usersLoading: false\r\n    }\r\n\r\n    endlessScroll = async() => {\r\n        \r\n        const { currentPage, pagesCount, setUsers } = this.props;\r\n        const { usersLoading } = this.state;\r\n        const docEl = document.documentElement;\r\n        const scrollBottom = docEl.scrollHeight - docEl.scrollTop - docEl.clientHeight;\r\n        if (scrollBottom < 100 && currentPage < pagesCount && !usersLoading) {\r\n            this.setState({ usersLoading : true }); \r\n            await setUsers(currentPage + 1, true);\r\n            this.setState({ usersLoading: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Users {...this.props} />\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        currentPage: state.usersPage.currentPage,\r\n        pagesCount: state.usersPage.pagesCount,\r\n        isLoading: state.usersPage.isLoading\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { setUsers } )(UsersContainer);"],"sourceRoot":""}