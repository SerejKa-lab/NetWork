(window["webpackJsonpmy-app-1"]=window["webpackJsonpmy-app-1"]||[]).push([[3],{297:function(e,t,a){"use strict";var o=a(0),r=a.n(o),n=a(33),l=a(21);t.a=function(e){return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(n.a,{to:"/login"})}))}},298:function(e,t,a){e.exports=a.p+"static/media/userPhoto.5974e044.jpeg"},305:function(e,t,a){e.exports={postsContainer:"MyPosts_postsContainer__FmHFU",posts:"MyPosts_posts__2FKHy",myPosts:"MyPosts_myPosts__3ge4A",newPostForm:"MyPosts_newPostForm__1izxS"}},306:function(e,t,a){e.exports=a.p+"static/media/like.1f0d2cbd.png"},307:function(e,t,a){e.exports={post:"Post_post__nfL48",postWriter:"Post_postWriter__1S_gQ",postLike:"Post_postLike__2At_A"}},308:function(e,t,a){e.exports={profile:"Profile_profile__1Vkki"}},309:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__2VBEQ",profilePhoto:"ProfileInfo_profilePhoto__pMs6W",profileInfo_userInfo:"ProfileInfo_profileInfo_userInfo__5F0H2",profileInfo_buttons:"ProfileInfo_profileInfo_buttons__3CXqu"}},310:function(e,t,a){e.exports={contactsBlock:"ProfileContacts_contactsBlock__3DIZi",contactsHeader:"ProfileContacts_contactsHeader__hUY5u",contacts:"ProfileContacts_contacts__2hBc1",contact:"ProfileContacts_contact__2Z1OM"}},311:function(e,t,a){e.exports={aboutMeBlock:"AboutMe_aboutMeBlock__2a_V0",aboutMe:"AboutMe_aboutMe__3RvNk",fullNameWrapper__underline:"AboutMe_fullNameWrapper__underline__2XX5E",fullNameWrapper:"AboutMe_fullNameWrapper__1oAW3",statusValue:"AboutMe_statusValue__23NeF",inputError:"AboutMe_inputError__2QN2g"}},312:function(e,t,a){e.exports={lookingForAJob:"LookingForAJob_lookingForAJob__7iOPE",LFAJ_descriprion:"LookingForAJob_LFAJ_descriprion__1bZeP",LFAJ_descriprion_header:"LookingForAJob_LFAJ_descriprion_header__Xb5P0",LFAJ_descriprion_vacancy:"LookingForAJob_LFAJ_descriprion_vacancy__2jynd"}},313:function(e,t,a){e.exports=a.p+"static/media/lookingForAJob.af7f5f7c.png"},314:function(e,t,a){e.exports={editProfileForm:"EditProfileForm_editProfileForm__3ZdK_",LFAJWrapper:"EditProfileForm_LFAJWrapper__1mGLD",inputError:"EditProfileForm_inputError__3Y4A0",urlHint:"EditProfileForm_urlHint__rWpEG"}},315:function(e,t,a){"use strict";a.r(t);var o=a(54),r=a(55),n=a(57),l=a(56),s=a(58),c=a(0),i=a.n(c),u=a(21),m=a(33),p=a(98),f=a(305),_=a.n(f),b=a(306),d=a.n(b),E=a(307),P=a.n(E),g=function(e){return i.a.createElement("div",{className:P.a.post},i.a.createElement("div",{className:P.a.postWriter},i.a.createElement("img",{alt:"avatar",src:e.profileImage}),i.a.createElement("span",null,i.a.createElement("b",null,e.name))),i.a.createElement("span",{className:P.a.postMessage},e.message),i.a.createElement("div",{className:P.a.postLike},i.a.createElement("img",{alt:"like",src:d.a}),e.like&&i.a.createElement("span",null,e.like)))},y=a(131),h=a(132),v=a(73),k=a(74),F=Object(v.a)(1e3),A=function(e){var t=e.handleSubmit,a=e.reset,o=e.addPost;return i.a.createElement("form",{onSubmit:t((function(e){e.newPost&&(o(e.newPost),a())})),className:_.a.newPostForm},i.a.createElement(y.a,{name:"newPost",type:"text",component:k.a,validate:[F]}),i.a.createElement("button",{type:"submit"},"Add post"))};A=Object(h.a)({form:"addPost"})(A);var O=function(e){var t=e.postsData,a=e.addPost,o=t.map((function(e){return i.a.createElement(g,Object.assign({},e,{key:e.id}))}));return i.a.createElement("div",{className:_.a.postsContainer},i.a.createElement("div",{className:_.a.myPosts},i.a.createElement(A,{addPost:a}),o))},N=Object(u.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:p.a})(O),j=a(308),I=a.n(j),L=a(11),J=a(37),M=a(309),w=a.n(M),x=a(97),C=a(27),S=a(310),D=a.n(S),W=function(e){var t=e.contacts,a=function(){var e=[];for(var a in t)if(t[a]){var o=i.a.createElement("li",{className:D.a.contact,key:a},i.a.createElement("a",{href:t[a],target:"_blank",rel:"noopener noreferrer"},a," "));e=[].concat(Object(C.a)(e),[o])}return e}();return a.length?i.a.createElement("div",{className:D.a.contactsBlock},i.a.createElement("p",{className:D.a.contactsHeader},"Contacts:"),i.a.createElement("ul",{className:D.a.contacts},a)):null},U=a(311),B=a.n(U),H=Object(u.b)(null,{changeMyStatus:p.b})((function(e){var t=Object(c.useState)(!1),a=Object(J.a)(t,2),o=a[0],r=a[1],n=Object(c.useState)(!1),l=Object(J.a)(n,2),s=l[0],u=l[1],m=Object(c.useState)(""),p=Object(J.a)(m,2),f=p[0],_=p[1],b=Object(c.useState)(300),d=Object(J.a)(b,1)[0],E=function(){e.userId===e.myId&&(r(!0),_(e.status))},P=function(){r(!1)},g=e.fullName,y=e.aboutMe,h=e.statusIsLoading,v=y?B.a.fullNameWrapper__underline:B.a.fullNameWrapper,k=s?B.a.inputError:"";return i.a.createElement("div",{className:B.a.aboutMeBlock},i.a.createElement("div",{className:v},i.a.createElement("h2",null,g),o&&i.a.createElement("input",{className:k,onChange:function(e){var t;_(e.currentTarget.value),t=e.currentTarget.value.length,s&&t<=d&&u(!1),t>d&&u(!0)},autoFocus:!0,onBlur:P,onKeyDown:function(t){27===t.keyCode&&P(),"Enter"!==t.key||s||f===e.status||(e.changeMyStatus(f),P()),"Enter"!==t.key||s||f!==e.status||P()},value:f}),!o&&e.status&&!h&&i.a.createElement("span",{onDoubleClick:E,className:B.a.statusValue},e.status),!o&&!e.status&&!h&&e.userId===e.myId&&i.a.createElement("button",{onClick:E},"Set status"),h&&i.a.createElement(x.a,{height:"25px"}),"        "),y&&i.a.createElement("p",{className:B.a.aboutMe},y))})),V=a(312),R=a.n(V),X=function(e){var t=e.lookingForAJob,o=e.LFAJDescription;return t?i.a.createElement("div",{className:R.a.lookingForAJob},i.a.createElement("img",{alt:"lookingForAJob",src:a(313)}),i.a.createElement("div",{className:R.a.LFAJ_descriprion},i.a.createElement("span",{className:R.a.LFAJ_descriprion_header},"Looking for a vacancy:"),i.a.createElement("span",{className:R.a.LFAJ_descriprion_vacancy},o))):null},Z=a(314),K=a.n(Z),Q=Object(v.a)(1e3),G=Object(v.a)(100),T=Object(h.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.error,o=e.profileContacts;return i.a.createElement("form",{onSubmit:t,className:K.a.editProfileForm},i.a.createElement("label",null,i.a.createElement("b",null,"Full name")),i.a.createElement(y.a,{name:"fullName",component:k.a,type:"text",validate:[v.b,G]}),i.a.createElement("label",null,i.a.createElement("b",null,"About me")),i.a.createElement(y.a,{name:"aboutMe",component:k.a,type:"text",validate:[v.b,Q]}),i.a.createElement("div",{className:K.a.LFAJWrapper},i.a.createElement("label",{className:K.a.lokingFAJ},i.a.createElement("b",null,"Looking for a job")),i.a.createElement(y.a,{name:"lookingForAJob",component:"input",type:"checkbox"})),i.a.createElement("label",null,i.a.createElement("b",null,"Vacansy you pretend")),i.a.createElement(y.a,{name:"lookingForAJobDescription",component:k.a,type:"text",validate:[v.b,Q]}),i.a.createElement("label",null,i.a.createElement("b",null,"Contacts:")),a&&i.a.createElement("div",{className:a?K.a.inputError:""},a,".",i.a.createElement("br",null),"Valid URL format is https://website.com"),!a&&i.a.createElement("p",{className:K.a.urlHint},"Please, check valid URL format: https://website.com"),Object.keys(o).map((function(e){return i.a.createElement("div",{className:K.a.entireField,key:e},i.a.createElement("span",null,e),i.a.createElement("br",null),i.a.createElement(y.a,{name:"contacts.".concat(e),component:"input",type:"text",placeholder:"".concat(e," URL")}))})),i.a.createElement("button",{type:"submit"},"Save changes"))}));function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}var q=function(e){var t=e.userProfile,o=e.myId,r=e.setProfilePhoto,n=e.editMyProfile,l=e.profileProgress,s=l.profileIsLoading,u=l.statusIsLoading,m=l.profileIsEditing,p=e.userProfile,f=p.contacts,_=p.fullName,b=p.aboutMe,d=p.status,E=p.userId,P=p.lookingForAJob,g=p.lookingForAJobDescription;Object(c.useEffect)((function(){k(!1)}),[E]);var y=Object(c.useState)(!1),h=Object(J.a)(y,2),v=h[0],k=h[1];if(t){var F=t.photos.large?t.photos.large:a(298);return s?i.a.createElement(x.a,null):i.a.createElement("section",{className:w.a.profileInfo},i.a.createElement("div",{className:w.a.profilePhoto},i.a.createElement("img",{alt:"avatar",src:F}),!v&&o===E&&i.a.createElement("div",{className:w.a.profileInfo_buttons},i.a.createElement("label",{htmlFor:"choosePhoto"},"Choose photo"),i.a.createElement("input",{type:"file",id:"choosePhoto",onChange:function(e){e.target.files.length&&r(e.target.files[0])}}),i.a.createElement("button",{onClick:function(){return k(!0)}},"Edit profile"))),!v&&i.a.createElement("div",{className:w.a.profileInfo_userInfo},i.a.createElement(H,{fullName:_,aboutMe:b,status:d,statusIsLoading:u,myId:o,userId:E}),i.a.createElement(X,{lookingForAJob:P,LFAJDescription:g}),i.a.createElement(W,{contacts:f}),m&&i.a.createElement(x.a,{width:"25px"})),v&&o===E&&i.a.createElement(T,{profileContacts:t.contacts,initialValues:t,onSubmit:function(e){e!==t?n(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{},e)).then((function(){return k(!1)})):k(!1)}}))}return i.a.createElement(x.a,null)},z=function(e){var t=e.myId,a=e.userProfile.userId,o=e.profileProgress.profileIsLoading;return i.a.createElement("div",{className:I.a.profile},i.a.createElement(q,e),t===a&&!o&&i.a.createElement(N,null))},$=a(297),ee=a(8),te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).setUserProfile=function(){var e=a.props.myId,t=a.props.match.params.userId,o=t||e;a.props.setUserProfile(o),a.props.setUserStatus(o)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setUserProfile()}},{key:"componentDidUpdate",value:function(e){var t=e.match.params.userId;this.props.match.params.userId!==t&&this.setUserProfile()}},{key:"render",value:function(){var e=this.props,t=e.userProfile,a=e.myId,o=e.profileProgress,r=e.setProfilePhoto,n=e.editMyProfile;return i.a.createElement(z,{myId:a,userProfile:t,profileProgress:o,setProfilePhoto:r,editMyProfile:n})}}]),t}(i.a.Component);t.default=Object(ee.compose)(Object(u.b)((function(e){return{userProfile:e.profilePage.userProfile,profileProgress:e.profilePage.profileProgress,myId:e.auth.id}}),{setUserProfile:p.f,setUserStatus:p.g,setProfilePhoto:p.e,editMyProfile:p.d}),m.g,$.a)(te)}}]);
//# sourceMappingURL=3.692deb9e.chunk.js.map