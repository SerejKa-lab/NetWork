(window["webpackJsonpmy-app-1"]=window["webpackJsonpmy-app-1"]||[]).push([[3],{298:function(e,t,a){"use strict";var o=a(0),r=a.n(o),n=a(33),l=a(21);t.a=function(e){return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(n.a,{to:"/login"})}))}},299:function(e,t,a){e.exports=a.p+"static/media/userPhoto.5974e044.jpeg"},306:function(e,t,a){e.exports={postsContainer:"MyPosts_postsContainer__FmHFU",posts:"MyPosts_posts__2FKHy",myPosts:"MyPosts_myPosts__3ge4A",newPostForm:"MyPosts_newPostForm__1izxS"}},307:function(e,t,a){e.exports=a.p+"static/media/like.1f0d2cbd.png"},308:function(e,t,a){e.exports={post:"Post_post__nfL48",postWriter:"Post_postWriter__1S_gQ",postLike:"Post_postLike__2At_A"}},309:function(e,t,a){e.exports={profile:"Profile_profile__1Vkki"}},310:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__2VBEQ",profilePhoto:"ProfileInfo_profilePhoto__pMs6W",profileInfo_userInfo:"ProfileInfo_profileInfo_userInfo__5F0H2",profileInfo_buttons:"ProfileInfo_profileInfo_buttons__3CXqu"}},311:function(e,t,a){e.exports={contactsBlock:"ProfileContacts_contactsBlock__3DIZi",contactsHeader:"ProfileContacts_contactsHeader__hUY5u",contacts:"ProfileContacts_contacts__2hBc1",contact:"ProfileContacts_contact__2Z1OM"}},312:function(e,t,a){e.exports={aboutMeBlock:"AboutMe_aboutMeBlock__2a_V0",aboutMe:"AboutMe_aboutMe__3RvNk",fullNameWrapper__underline:"AboutMe_fullNameWrapper__underline__2XX5E",fullNameWrapper:"AboutMe_fullNameWrapper__1oAW3",statusValue:"AboutMe_statusValue__23NeF",inputError:"AboutMe_inputError__2QN2g"}},313:function(e,t,a){e.exports={lookingForAJob:"LookingForAJob_lookingForAJob__7iOPE",LFAJ_descriprion:"LookingForAJob_LFAJ_descriprion__1bZeP",LFAJ_descriprion_header:"LookingForAJob_LFAJ_descriprion_header__Xb5P0",LFAJ_descriprion_vacancy:"LookingForAJob_LFAJ_descriprion_vacancy__2jynd"}},314:function(e,t,a){e.exports=a.p+"static/media/lookingForAJob.af7f5f7c.png"},315:function(e,t,a){e.exports={editProfileForm:"EditProfileForm_editProfileForm__3ZdK_",LFAJWrapper:"EditProfileForm_LFAJWrapper__1mGLD",inputError:"EditProfileForm_inputError__3Y4A0",urlHint:"EditProfileForm_urlHint__rWpEG"}},316:function(e,t,a){"use strict";a.r(t);var o=a(40),r=a(41),n=a(44),l=a(42),s=a(45),c=a(0),i=a.n(c),u=a(21),p=a(33),m=a(98),f=a(306),d=a.n(f),b=a(307),_=a.n(b),E=a(308),P=a.n(E),g=function(e){return i.a.createElement("div",{className:P.a.post},i.a.createElement("div",{className:P.a.postWriter},i.a.createElement("img",{alt:"avatar",src:e.profileImage}),i.a.createElement("span",null,i.a.createElement("b",null,e.name))),i.a.createElement("span",{className:P.a.postMessage},e.message),i.a.createElement("div",{className:P.a.postLike},i.a.createElement("img",{alt:"like",src:_.a}),e.like&&i.a.createElement("span",null,e.like)))},h=a(131),y=a(132),v=a(60),k=a(74),F=Object(v.b)(1e3),I=function(e){var t=e.handleSubmit,a=e.reset,o=e.addPost;return i.a.createElement("form",{onSubmit:t((function(e){e.newPost&&(o(e.newPost),a())})),className:d.a.newPostForm},i.a.createElement(h.a,{name:"newPost",type:"text",component:k.a,validate:[F]}),i.a.createElement("button",{type:"submit"},"Add post"))};I=Object(y.a)({form:"addPost"})(I);var O=function(e){var t=e.postsData,a=e.addPost,o=t.map((function(e){return i.a.createElement(g,Object.assign({},e,{key:e.id}))}));return i.a.createElement("div",{className:d.a.postsContainer},i.a.createElement("div",{className:d.a.myPosts},i.a.createElement(I,{addPost:a}),o))},A=Object(u.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:m.a})(O),N=a(309),j=a.n(N),L=a(11),J=a(55),M=a(310),w=a.n(M),x=a(97),C=a(27),S=a(311),D=a.n(S),W=function(e){var t=e.contacts,a=function(){var e=[];for(var a in t)if(t[a]){var o=i.a.createElement("li",{className:D.a.contact,key:a},i.a.createElement("a",{href:t[a],target:"_blank",rel:"noopener noreferrer"},a," "));e=[].concat(Object(C.a)(e),[o])}return e}();return a.length?i.a.createElement("div",{className:D.a.contactsBlock},i.a.createElement("p",{className:D.a.contactsHeader},"Contacts:"),i.a.createElement("ul",{className:D.a.contacts},a)):null},U=a(312),B=a.n(U),H=Object(u.b)(null,{changeMyStatus:m.b})((function(e){var t=Object(c.useState)(!1),a=Object(J.a)(t,2),o=a[0],r=a[1],n=Object(c.useState)(!1),l=Object(J.a)(n,2),s=l[0],u=l[1],p=Object(c.useState)(""),m=Object(J.a)(p,2),f=m[0],d=m[1],b=Object(c.useState)(300),_=Object(J.a)(b,1)[0],E=function(){e.userId===e.myId&&(r(!0),d(e.status))},P=function(){r(!1)},g=e.fullName,h=e.aboutMe,y=e.statusIsLoading,v=h?B.a.fullNameWrapper__underline:B.a.fullNameWrapper,k=s?B.a.inputError:"";return i.a.createElement("div",{className:B.a.aboutMeBlock},i.a.createElement("div",{className:v},i.a.createElement("h2",null,g),o&&i.a.createElement("input",{className:k,onChange:function(e){var t;d(e.currentTarget.value),t=e.currentTarget.value.length,s&&t<=_&&u(!1),t>_&&u(!0)},autoFocus:!0,onBlur:P,onKeyDown:function(t){27===t.keyCode&&P(),"Enter"!==t.key||s||f===e.status||(e.changeMyStatus(f),P()),"Enter"!==t.key||s||f!==e.status||P()},value:f}),!o&&e.status&&!y&&i.a.createElement("span",{onDoubleClick:E,className:B.a.statusValue},e.status),!o&&!e.status&&!y&&e.userId===e.myId&&i.a.createElement("button",{onClick:E},"Set status"),y&&i.a.createElement(x.a,{height:"25px"}),"        "),h&&i.a.createElement("p",{className:B.a.aboutMe},h))})),V=a(313),R=a.n(V),X=function(e){var t=e.lookingForAJob,o=e.LFAJDescription;return t?i.a.createElement("div",{className:R.a.lookingForAJob},i.a.createElement("img",{alt:"lookingForAJob",src:a(314)}),i.a.createElement("div",{className:R.a.LFAJ_descriprion},i.a.createElement("span",{className:R.a.LFAJ_descriprion_header},"Looking for a vacancy:"),i.a.createElement("span",{className:R.a.LFAJ_descriprion_vacancy},o))):null},Z=a(48),K=a(315),Q=a.n(K),G=Object(v.b)(1e3),T=Object(v.b)(100),Y=Object(y.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.error,o=e.profileContacts,r=e.profileIsEditing;Object(Z.a)(e,["handleSubmit","error","profileContacts","profileIsEditing"]);return i.a.createElement("form",{onSubmit:t,className:Q.a.editProfileForm},r&&i.a.createElement(x.a,{position:"absolute",top:"10px",right:"10px",width:"35px"}),i.a.createElement("label",null,i.a.createElement("b",null,"Full name")),i.a.createElement(h.a,{name:"fullName",component:k.a,type:"text",validate:[v.c,T]}),i.a.createElement("label",null,i.a.createElement("b",null,"About me")),i.a.createElement(h.a,{name:"aboutMe",component:k.a,type:"text",validate:[v.c,G]}),i.a.createElement("div",{className:Q.a.LFAJWrapper},i.a.createElement("label",{className:Q.a.lokingFAJ},i.a.createElement("b",null,"Looking for a job")),i.a.createElement(h.a,{name:"lookingForAJob",component:"input",type:"checkbox"})),i.a.createElement("label",null,i.a.createElement("b",null,"Vacansy you pretend")),i.a.createElement(h.a,{name:"lookingForAJobDescription",component:k.a,type:"text",validate:[v.c,G]}),i.a.createElement("label",null,i.a.createElement("b",null,"Contacts:")),a&&i.a.createElement("div",{className:a?Q.a.inputError:""},a,".",i.a.createElement("br",null),"Valid URL format is https://website.com"),!a&&i.a.createElement("p",{className:Q.a.urlHint},"Please, check valid URL format: https://website.com"),Object.keys(o).map((function(e){return i.a.createElement("div",{className:Q.a.entireField,key:e},i.a.createElement("span",null,e),i.a.createElement("br",null),i.a.createElement(h.a,{name:"contacts[".concat(e,"]"),component:"input",type:"text",placeholder:"".concat(e," URL")}))})),i.a.createElement("button",{type:"submit",disabled:r},"Save changes"))}));function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}var z=function(e){var t=e.userProfile,o=e.myId,r=e.setProfilePhoto,n=e.editMyProfile,l=e.profileProgress,s=l.profileIsLoading,u=l.statusIsLoading,p=l.profileIsEditing,m=e.userProfile,f=m.contacts,d=m.fullName,b=m.aboutMe,_=m.status,E=m.userId,P=m.lookingForAJob,g=m.lookingForAJobDescription;Object(c.useEffect)((function(){k(!1)}),[E]);var h=Object(c.useState)(!1),y=Object(J.a)(h,2),v=y[0],k=y[1];if(t){var F=t.photos.large?t.photos.large:a(299);return s?i.a.createElement(x.a,null):i.a.createElement("section",{className:w.a.profileInfo},i.a.createElement("div",{className:w.a.profilePhoto},i.a.createElement("img",{alt:"avatar",src:F}),!v&&o===E&&i.a.createElement("div",{className:w.a.profileInfo_buttons},i.a.createElement("label",{htmlFor:"choosePhoto"},"Choose photo"),i.a.createElement("input",{type:"file",id:"choosePhoto",onChange:function(e){e.target.files.length&&r(e.target.files[0])}}),i.a.createElement("button",{onClick:function(){return k(!0)}},"Edit profile"))),!v&&i.a.createElement("div",{className:w.a.profileInfo_userInfo},i.a.createElement(H,{fullName:d,aboutMe:b,status:_,statusIsLoading:u,myId:o,userId:E}),i.a.createElement(X,{lookingForAJob:P,LFAJDescription:g}),i.a.createElement(W,{contacts:f}),p&&i.a.createElement(x.a,{width:"25px"})),v&&o===E&&i.a.createElement(Y,{profileContacts:t.contacts,initialValues:t,profileIsEditing:p,onSubmit:function(e){e!==t?n(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{},e)).then((function(){return k(!1)})):k(!1)}}))}return i.a.createElement(x.a,null)},$=function(e){var t=e.myId,a=e.userProfile.userId,o=e.profileProgress.profileIsLoading;return i.a.createElement("div",{className:j.a.profile},i.a.createElement(z,e),t===a&&!o&&i.a.createElement(A,null))},ee=a(298),te=a(8),ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(n.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).setUserProfile=function(){var e=a.props.myId,t=a.props.match.params.userId,o=t||e;a.props.setUserProfile(o),a.props.setUserStatus(o)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setUserProfile()}},{key:"componentDidUpdate",value:function(e){var t=e.match.params.userId;this.props.match.params.userId!==t&&this.setUserProfile()}},{key:"render",value:function(){var e=this.props,t=e.userProfile,a=e.myId,o=e.profileProgress,r=e.setProfilePhoto,n=e.editMyProfile,l=e.profileIsEditing;return i.a.createElement($,{myId:a,userProfile:t,profileProgress:o,setProfilePhoto:r,editMyProfile:n,profileIsEditing:l})}}]),t}(i.a.Component);t.default=Object(te.compose)(Object(u.b)((function(e){return{userProfile:e.profilePage.userProfile,profileProgress:e.profilePage.profileProgress,profileIsEditing:e.profilePage.profileIsEditing,myId:e.auth.id}}),{setUserProfile:m.f,setUserStatus:m.g,setProfilePhoto:m.e,editMyProfile:m.d}),p.g,ee.a)(ae)}}]);
//# sourceMappingURL=3.21efc92d.chunk.js.map