(window["webpackJsonpmy-app-1"]=window["webpackJsonpmy-app-1"]||[]).push([[5],{299:function(e,t,a){e.exports=a.p+"static/media/userPhoto.5974e044.jpg"},303:function(e,t,a){e.exports={usersPage:"Users_usersPage__mQVSZ",preloader:"Users_preloader__3rtwY",paginator:"Users_paginator__3rjOg",paginator__link:"Users_paginator__link__2C74a",showHideLink:"Users_showHideLink__Ixadd",lastPage:"Users_lastPage__3E52s"}},304:function(e,t,a){e.exports={paginator:"Paginator_paginator__2tyKK",button:"Paginator_button__3JCI_",inpError:"Paginator_inpError__2O9R4"}},305:function(e,t,a){e.exports={user:"User_user__2685s",avatar:"User_avatar__3VMDy",photo:"User_photo__oFDBZ",description:"User_description__YcnNY",descriptionStatus:"User_descriptionStatus__-VyNo",info:"User_info__1uRtW",location:"User_location__NaYgD"}},318:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),s=a(21),o=a(40),i=a(41),c=a(44),u=a(42),l=a(45),p=a(0),m=a.n(p),g=a(23),d=a(99),h=a(74),_=a(303),f=a.n(_),E=a(304),P=a.n(E),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={inputError:!1,displayNumber:null,inputMode:!1},a.setInputMode=function(e){a.setState({inputMode:!0}),a.checkDisplayValue(e)},a.disableInputMode=function(){a.setState({inputMode:!1})},a.checkDisplayValue=function(e){var t=a.props,n=t.startPage,r=t.finishPage,s=e.currentTarget.value;s>=n&&s<=r?a.setState({inputError:!1,displayNumber:s}):(a.setState({displayNumber:s}),a.setState({inputError:!0}))},a.setPageOnEvent=function(e){var t=a.props,n=t.startPage,r=t.finishPage,s=t.currentPage,o=t.dispatchNewPage,i=+e.currentTarget.value;i>=n&&i<=r&&i!==s?(a.setState({inputError:!1}),o(i)):i!==s&&a.setState({inputError:!0})},a.setPageOnKey=function(e){"Enter"===e.key&&(a.setPageOnEvent(e),a.setState({inputMode:!1}))},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({displayNumber:this.props.currentPage})}},{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.startPage,n=e.finishPage,r=e.dispatchNewPage;return m.a.createElement("section",{className:P.a.paginatorWrapper},m.a.createElement("nav",{className:P.a.paginator},t!==a&&m.a.createElement("span",{className:P.a.button,onClick:function(){return r(a)}},"First"),this.state.inputMode?m.a.createElement("input",{type:"number",value:this.state.displayNumber,min:a,max:n,className:this.state.inputError?P.a.inpError:"",onClick:this.setPageOnEvent,onKeyPress:this.setPageOnKey,onChange:this.checkDisplayValue,onBlur:this.disableInputMode}):m.a.createElement("input",{type:"number",value:t,min:a,max:n,onInput:this.setInputMode,onClick:this.setPageOnEvent,onChange:function(){}}),t!==n&&m.a.createElement("span",{className:P.a.button,onClick:function(){return r(n)}},"Last")))}}]),t}(m.a.Component),b=a(97),y=a(13),N=a(305),k=a.n(N),w=function(e){var t=e.setFollow,n=e.user,r=n.id,s=n.photos,o=n.followed,i=n.name,c=n.status,u=n.followInProgress,l=null!==s.small?s.small:a(299);return m.a.createElement("section",{className:k.a.user},m.a.createElement("section",{className:k.a.avatar},m.a.createElement(y.c,{to:"/profile/"+r},m.a.createElement("img",{src:l,alt:"avatar",className:k.a.photo})),o?m.a.createElement("button",{onClick:function(){return t(r,!1)},disabled:u},"Unfollow"):m.a.createElement("button",{onClick:function(){return t(r,!0)},disabled:u},"Follow")),m.a.createElement("section",{className:k.a.description},m.a.createElement("div",{className:k.a.info},m.a.createElement("p",null,i),m.a.createElement("p",{className:k.a.descriptionStatus},c)),m.a.createElement("div",{className:k.a.location},m.a.createElement("p",null,"country",","),m.a.createElement("p",null,"city"))))},O=Object(g.b)(null,{setFollow:d.b})((function(e){return m.a.createElement(w,e)})),S=function(e){var t=Object(p.useState)(!1),a=Object(h.a)(t,2),n=a[0],r=a[1],s=e.users,o=e.isLoading,i=e.currentPage,c=e.pagesCount,u=s.map((function(e){return m.a.createElement(O,{user:e,key:e.id})}));return m.a.createElement("div",{className:f.a.usersPage},o&&m.a.createElement(b.a,{className:f.a.preloader}),n?m.a.createElement("div",{className:f.a.paginator},m.a.createElement("span",{className:f.a.showHideLink,onClick:function(){return r(!1)}}),m.a.createElement(v,{startPage:1,finishPage:c,currentPage:i,dispatchNewPage:function(t,a){t!==e.currentPage&&e.setUsers(t,a)}})):m.a.createElement("div",{className:"".concat(f.a.paginator," ").concat(f.a.paginator__link),onClick:function(){return r(!0)}},m.a.createElement("span",{className:f.a.showHideLink})),u,i===c&&m.a.createElement("div",{className:f.a.lastPage},"You have reached the last page..."))},U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={usersLoading:!1},a.endlessScroll=Object(s.a)(r.a.mark((function e(){var t,n,s,o,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.currentPage,s=t.pagesCount,o=t.setUsers,i=a.state.usersLoading,c=document.documentElement,!(c.scrollHeight-c.scrollTop-c.clientHeight<100&&n<s)||i){e.next=9;break}return a.setState({usersLoading:!0}),e.next=8,o(n+1,!0);case 8:a.setState({usersLoading:!1});case 9:case"end":return e.stop()}}),e)}))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.endlessScroll),0===this.props.users.length&&this.props.setUsers(this.props.currentPage)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.endlessScroll)}},{key:"render",value:function(){return m.a.createElement(S,this.props)}}]),t}(m.a.Component);t.default=Object(g.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,pagesCount:e.usersPage.pagesCount,isLoading:e.usersPage.isLoading}}),{setUsers:d.c})(U)}}]);
//# sourceMappingURL=5.86ef32f0.chunk.js.map